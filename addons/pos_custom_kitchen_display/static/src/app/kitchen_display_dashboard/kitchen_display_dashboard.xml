<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="pos_custom_kitchen_display.KitchenDisplayDashboard">
        <Notebook>
            <t t-set-slot="page_1" title="'Pending'" isVisible="true" t-attf-class="red">
                <div class="d-flex flex-row flex-wrap">
                    <t t-foreach="state.tickets" t-as="ticket" t-key="ticket.id">
                        <t t-if="ticket.ticket_status == 'pending'">
                            <div class = "card me-3">
                                <div class="card-header text-center">
                                    <h5 class="card-title">Table: <t t-esc="ticket.table"/></h5>
                                    <h6 class="card-subtitle"><t t-esc="ticket.time"/></h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group list-group-flush">
                                        <t t-foreach="ticket.lines" t-as="line" t-key="line.id">
                                            <li t-attf-class="list-group-item{{ get_line_status_class(line.line_status) }}">
                                                <div class="d-flex justify-content-between">
                                                    <h5><t t-esc="line.name"/></h5>
                                                    <div class="p-1"></div>
                                                    <h5><t t-esc="line.qty"/></h5>
                                                </div>
                                                <t t-if="line.note != ''">
                                                    <p>
                                                        <t t-esc="line.note"/>
                                                    </p>
                                                </t>
                                            </li>
                                        </t>
                                    </ul>
                                    <a href="#" class="stretched-link" t-on-click="() => this.updateTicketStatus(ticket.id)"/>
                                </div>
                            </div>
                        </t>
                    </t>
                </div>
            </t>
            <t t-set-slot="page_2" title="'In progress'" isVisible="true">
                <div class="d-flex flex-row flex-wrap">
                    <t t-foreach="state.tickets" t-as="ticket" t-key="ticket.id">
                        <t t-if="ticket.ticket_status == 'ack'">
                            <div class = "card me-3">
                                <div class="card-header text-center">
                                    <h5 class="card-title">Table: <t t-esc="ticket.table"/></h5>
                                    <h6 class="card-subtitle"><t t-esc="ticket.time"/></h6>
                                    <t t-if="this.checkLinesStatus(ticket.id)">
                                        <a href="#" class="stretched-link" t-on-click="() => this.updateTicketStatus(ticket.id)"/>
                                    </t>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group list-group-flush">
                                        <t t-foreach="ticket.lines" t-as="line" t-key="line.id">
                                            <li t-attf-class="list-group-item{{ get_line_status_class(line.line_status) }}">
                                                <div class="d-flex justify-content-between">
                                                    <h5><t t-esc="line.name"/></h5>
                                                    <div class="p-1"></div>
                                                    <h5><t t-esc="line.qty"/></h5>
                                                </div>
                                                <t t-if="line.note != ''">
                                                    <p>
                                                        <t t-esc="line.note"/>
                                                    </p>
                                                </t>
                                                <a href="#" class="stretched-link" t-on-click="() => this.updateLineStatus(ticket.id,line.id)"/>
                                            </li>
                                        </t>
                                    </ul>
                                </div>
                            </div>
                        </t>
                    </t>
                </div>
            </t>
            <t t-set-slot="page_3" title="'Ready'" isVisible="true">
                <div class="d-flex flex-row flex-wrap">
                    <t t-foreach="state.tickets" t-as="ticket" t-key="ticket.id">
                        <t t-if="ticket.ticket_status == 'done'">
                            <div class = "card me-3">
                                <div class="card-header text-center">
                                    <h5 class="card-title">Table: <t t-esc="ticket.table"/></h5>
                                    <h6 class="card-subtitle"><t t-esc="ticket.time"/></h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group list-group-flush">
                                        <t t-foreach="ticket.lines" t-as="line" t-key="line.id">
                                            <li class="list-group-item">
                                                <div class="d-flex justify-content-between">
                                                    <h5><t t-esc="line.name"/></h5>
                                                    <div class="p-1"></div>
                                                    <h5><t t-esc="line.qty"/></h5>
                                                </div>
                                                <t t-if="line.note != ''">
                                                    <p>
                                                        <t t-esc="line.note"/>
                                                    </p>
                                                </t>
                                            </li>
                                        </t>
                                    </ul>
                                </div>
                            </div>
                        </t>
                    </t>
                </div>
            </t>
        </Notebook>
    </t>
</templates>